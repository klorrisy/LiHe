/* 只有首页（.index）才允许 banner 显示原始高度 */
.index .banner {
    height: 100vh !important; /* 或者是你想要的任何高度，比如 60vh */
    display: block !important;
}

/* 首页的标题必须显现 */
.index .header-inner {
    display: block !important;
}

/* 1. 核心：强制把那个 100vh 的变态高度杀掉 */
.header-inner[style*="height: 100vh"] {
    height: 70px !important; /* 强行缩回导航栏高度 */
}

/* 2. 针对非首页：把所有占位的大盒子全部压缩 */
body:not(.index) .banner,
body:not(.index) .header-inner {
    height: 70px !important;
    min-height: 70px !important;
    background-color: #2f4154 !important; /* 保持导航栏那个深蓝色 */
}

/* 3. 藏掉那个在空白里隐身的空标题容器 */
body:not(.index) .page-header,
body:not(.index) .mask {
    display: none !important;
}

/* 4. 让正文白色盒子直接贴上来 */
body:not(.index) #board {
    margin-top: 0 !important;
}

/* 1. 基础背景：让网页地基跟着变色 */
body {
    background-color: var(--body-bg-color) !important;
    transition: background-color 0.3s ease;
}

/* 2. 核心白底画布：电脑端留白，手机端铺满 */
#board {
    background-color: var(--board-bg-color) !important;
    margin: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
    min-height: 100vh !important;
    box-shadow: none !important;
    border: none !important;
    /* 默认设为手机模式：左右只留一点点呼吸感 */
    padding: 15px 15px !important; 
}

/* 电脑大屏时，恢复你最满意的黄金留白 */
@media (min-width: 992px) {
    #board {
        padding: 60px 15% !important;
    }
}

/* 3. 物理切除：目录、页脚、头像 */
#toc, .toc-container, footer, .about-avatar, .about-icons, .post-guide {
    display: none !important;
}

/* 4. 容器拉伸：拆掉限制 */
.container, .container-fluid, .row {
    max-width: 100% !important;
    width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
}

.col-lg-8, .col-md-10, .col-sm-12, [class*="col-"] {
    flex: 0 0 100% !important;
    max-width: 100% !important;
}

/* 5. 首页文章卡片：简约横线 */
.index-card {
    background-color: transparent !important;
    border-bottom: 1px solid var(--border-color) !important;
    padding: 30px 10px !important; /* 手机端稍微留点边 */
    margin: 0 !important;
    box-shadow: none !important;
}

/* 6. 文章标题与正文 */
.post-content, .index-header {
    max-width: 100% !important;
    width: 100% !important;
    color: var(--text-color) !important;
}

/* --- 强迫症终极红线对齐版 --- */

/* 1. 全设备通用：清空所有可能导致错位的内边距 */
.index-card, 
.post-content, 
.post-title, 
.index-header,
.index-excerpt,
#twikoo,
.tk-comments {
    padding-left: 0 !important;
    padding-right: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
}

/* 2. 手机端：统一设置“红线”位置 */
@media (max-width: 767px) {
    /* 直接在最外层的板子（board）上统一定义左边距 */
    /* 这样里面的所有文字都会贴着这条红线排队 */
    #board {
        padding-left: 15px !important; /* 这就是你红线的位置，可以根据喜好微调 */
        padding-right: 15px !important;
        background-color: var(--eye-green) !important;
    }

    /* 首页标题字号稍微调一下，让它看起来更精致 */
    .index-header {
        font-size: 1.1rem !important;
        margin-bottom: 10px !important;
    }
}

/* 3. 电脑端：保持你想要的比例，但也确保左侧对齐 */
@media (min-width: 992px) {
    #board {
        padding-left: 25% !important; /* 电脑端红线位置 */
        padding-right: 25% !important;
    }
}

/* 电脑端：不动 */
@media (min-width: 992px) {
    #board { padding: 60px 15% !important; }
}

/* 1. 核心修复：把绿色背景从全局强行剥离 */

/* --- 白天模式：强制刷绿 --- */
body:not(.dark-mode), 
#board:not(.dark-mode),
[data-user-color-scheme="light"] body,
[data-user-color-scheme="light"] #board {
    background-color: #e8f5e9 !important; /* 你的护眼绿 */
    background: #e8f5e9 !important;
}

/* --- 夜间模式：强制回归深色 --- */
/* 当检测到深色模式标签时，把绿色彻底杀掉 */
body.dark-mode, 
[data-user-color-scheme="dark"] body,
[data-user-color-scheme="dark"] #board,
[data-user-color-scheme="dark"] .header-inner,
[data-user-color-scheme="dark"] .index-card {
    background-color: #1d1e22 !important; /* 强制变回深黑/深灰 */
    background: #1d1e22 !important;
}

/* 2. 针对手机端的特殊照顾 */
/* 如果手机浏览器比较旧，不认上面的标签，我们就用系统级的黑夜检测 */
@media (prefers-color-scheme: dark) {
    body, #board {
        background-color: #1d1e22 !important;
    }
}

/* 3. 统一删除阴影（无论昼夜都要干净） */
.index-card, article.post-content, .post-inner {
    box-shadow: none !important;
    border: none !important;
    background: transparent !important; /* 让它透明，直接显示底下的颜色 */
}

/* --- 首页紧凑版对齐方案 --- */

/* 1. 缩短文章之间的垂直距离 */
.index-card {
    background-color: transparent !important;
    /* 这条线你可以保留，也可以稍微调浅一点 */
    border-bottom: 1px solid rgba(200, 230, 201, 0.5) !important; 
    
    /* 这里是关键：从 40px 改成 20px 左右，文章就会立刻贴近 */
    padding-top: 15px !important;
    padding-bottom: 15px !important;
    margin: 0 !important;
}

/* 2. 进一步优化：让标题和正文摘要之间也近一点 */
.index-header {
    margin-bottom: 5px !important; /* 缩小标题和摘要之间的缝隙 */
}

/* 3. 首页整体对齐逻辑（保持你的红线，不要动它） */
@media (max-width: 767px) {
    #board {
        padding-left: 15px !important; 
        padding-right: 15px !important;
    }
}